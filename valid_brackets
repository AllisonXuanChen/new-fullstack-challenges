def valid_brackets?(string)
  stack = []
  symbols ={ "{" => "}", "[" => "]", "(" => ")"}
  string.each_char do |char|
  if symbols.key?(char)
    stack << char
  elsif symbols.value?(char)
    return false if stack.empty? || symbols[stack.pop] != each_char
    end
  end
  stack.empty?
end

puts valid_brackets?("{[()]}")
puts valid_brackets?("{[(])}")
puts valid_brackets?("{[}")
puts valid_brackets?("")
